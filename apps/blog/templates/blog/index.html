{% extends 'blog/base.html' %}



{% block content %}
 <!-- Main Content -->
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

                {% for post in posts %}
                    {% autoescape off %}

                    <div class="post-preview">
                        <a href= {{ post.get_absolute_url }}>
                            <h2 class="post-title">
                                {{ post.title }}
                            </h2>
                            <h3 class="post-subtitle">
                                {{ post.subtitle }}
                            </h3>
                        </a>

                        <ul class="list-inline">
                            <li ><h6>Теги:</h6></li>
                        {% for name,slug in post.get_slugs_names %}

                         {% if forloop.last %}
                            <li><a href = "{% url 'blog:tag' slug %}"><h5><small><mark>{{ name }}</mark></small></h5></a></li>
                         {% else %}
                            <li><a href = "{% url 'blog:tag' slug %}"><h5><small><mark>{{ name }}</mark>,</small></h5></a></li>
                         {% endif %}


                        {% endfor %}
                        </ul>

                        <p class="post-meta">Опубликованно <a href="#">{{ post.author.username }}</a> {{ post.created }}</p>

                    </div>

                    {% endautoescape  %}

                    <hr>

                    {% empty %}
                    <p>Статей не обнаружено :(</p>
                {% endfor %}


               {% if page_obj.has_next and page_obj.has_previous  %}
                <ul class="pager">
                    <li class="next">
                        <a href="?page={{ page_obj.next_page_number }}">Older Posts &rarr;</a>
                    </li>
                    <li class="previous">
                        <a href="?page={{ page_obj.previous_page_number }}">&larr; Next Posts</a>
                    </li>

                </ul>


               {% elif page_obj.has_next%}

                <ul class="pager">
                    <li class="next">
                        <a href="?page={{ page_obj.next_page_number }}">Older Posts &rarr;</a>
                    </li>

                </ul>

                {% elif page_obj.has_previous %}
                    <ul class="pager">
                    <li class="previous">
                        <a href="?page={{ page_obj.previous_page_number }}">&larr; Next Posts</a>
                    </li>
                </ul>

                {% endif %}

            </div>
        </div>
    </div>
    <div class="scrollUp">&uarr;</div>
{% endblock %}